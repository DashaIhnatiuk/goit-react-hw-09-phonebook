(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[3],{117:function(e,t,n){e.exports={enter:"slide_enter__3ZDQH",enterActive:"slide_enterActive__2ILM0",exit:"slide_exit__11fF0",exitActive:"slide_exitActive__26IrK"}},118:function(e,t,n){e.exports={enter:"alert_enter__EotQK",enterActive:"alert_enterActive__2HoxE",exit:"alert_exit__S6Ssu",exitActive:"alert_exitActive__1gMXa"}},120:function(e,t,n){e.exports={deleteBtn:"OutputSection_deleteBtn__2Olzp",ulSection:"OutputSection_ulSection__8_ihX",liItem:"OutputSection_liItem__3TQ_5",text:"OutputSection_text__1ib-C"}},123:function(e,t,n){e.exports={container:"AddSection_container__38zI-",addBtn:"AddSection_addBtn__1AoFH"}},124:function(e,t,n){e.exports={errorMassage:"Notification_errorMassage__RfOrU",enter:"Notification_enter__tsjeX",enterActive:"Notification_enterActive__1vf2M",exit:"Notification_exit__p0ki6",exitActive:"Notification_exitActive__1ClJp"}},125:function(e,t,n){e.exports={container:"phoneBookView_container__2H_b_",contactsWrapper:"phoneBookView_contactsWrapper__EXa7J",title:"phoneBookView_title__3iPdh",appear:"phoneBookView_appear__q5Kj9",appearActive:"phoneBookView_appearActive__2AQAh"}},129:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return H}));var a=n(0),r=n(8),c=n(130),o=n(19),i=n.n(o),s=n(28),u=n(14),l=n(20),b=n(22),j=function(){return function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(u.a.fetchContactsRequest()),e.prev=1,e.next=4,l.a.fetchContacts();case 4:n=e.sent,a=n.data,t(u.a.fetchContactsSuccess(a)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t(u.a.fetchContactsError(e.t0.message)),404===e.t0.response.status?b.a.info("There is no such user's collection!"):500===e.t0.response.status?b.a.error("Server error! Please try later."):b.a.error("Something went wrong! Please try again!");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e,t){return function(){var n=Object(s.a)(i.a.mark((function n(a){var r,c,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={name:e,number:t},a(u.a.addContactRequest()),n.prev=2,n.next=5,l.a.addContact(r);case 5:c=n.sent,o=c.data,a(u.a.addContactSuccess(o)),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(2),a(u.a.addContactError(n.t0.message)),400===n.t0.response.status?b.a.error("Contact creation error!"):b.a.error("Something went wrong! Please try again!");case 14:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(u.a.deleteContactRequest()),t.prev=1,t.next=4,l.a.deleteContact(e);case 4:n(u.a.deleteContactSuccess(e)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),n(u.a.deleteContactError(t.t0.message)),404===t.t0.response.status?b.a.info("There is no such user's collection!"):500===t.t0.response.status?b.a.error("Server error! Please try later."):b.a.error("Something went wrong! Please try again!");case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},f=n(33),_=function(e){return e.contacts.items},m=function(e){return e.contacts.filter},h={getLoading:function(e){return e.contacts.loading},getAllContacts:_,getFilter:m,getError:function(e){return e.contacts.error},getFilteredContacts:Object(f.a)([_,m],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}))},x=n(114),O=n(123),v=n.n(O),g=n(118),C=n.n(g),k=n(124),w=n.n(k),N=n(18),A=n(1);function E(e){var t=e.message,n=Object(r.c)(h.getError),o=Object(r.c)(N.a.getError),i=Object(r.b)();return Object(a.useEffect)((function(){(n||o)&&setTimeout((function(){i(u.a.clearError())}),3e3)}),[i]),Object(A.jsx)(c.a,{in:!!t,timeout:250,classNames:C.a,unmountOnExit:!0,children:Object(A.jsx)("div",{className:w.a.errorMassage,children:t})})}function S(){var e=Object(a.useState)(""),t=Object(x.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),i=Object(x.a)(o,2),s=i[0],u=i[1],l=Object(a.useState)(null),b=Object(x.a)(l,2),j=b[0],d=b[1],f=Object(r.c)(h.getAllContacts),_=Object(r.b)(),m=Object(a.useCallback)((function(e,t){return _(p(e,t))}),[_]),O=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":c(a);break;case"number":u(a);break;default:return}},g=function(){c(""),u("")};return Object(A.jsxs)("div",{className:v.a.container,children:[Object(A.jsx)(E,{message:j}),Object(A.jsx)("p",{children:"Name"}),Object(A.jsx)("input",{type:"text",placeholder:"Enter contact name",name:"name",value:n,onChange:O}),Object(A.jsx)("p",{children:"Number"}),Object(A.jsx)("input",{type:"text",placeholder:"Enter phone number",name:"number",value:s,onChange:O}),Object(A.jsx)("button",{className:v.a.addBtn,onClick:function(e){return e.preventDefault(),n?s?f.some((function(e){return e.name===n}))?(d("Contact already exists"),setTimeout((function(){d(null)}),3e3),void g()):(m(n,s),void g()):(d("Enter number please"),void setTimeout((function(){d(null)}),3e3)):(d("Enter name please"),void setTimeout((function(){d(null)}),3e3))},children:"Add contact"})]})}var y=n(120),B=n.n(y);function F(){var e=Object(r.b)(),t=Object(a.useCallback)((function(t){return e(u.a.changeFilter(t.currentTarget.value))})),n=Object(r.c)(h.getFilter);return Object(A.jsxs)("div",{className:B.a.ulSection,children:[Object(A.jsx)("p",{children:"Find contacts by name"}),Object(A.jsx)("input",{type:"text",placeholder:"Enter contact name",name:"filter",value:n,onChange:t})]})}var T=n(131),P=n(117),I=n.n(P);function M(){var e=Object(r.b)(),t=Object(a.useCallback)((function(t){return e(d(t))}),[e]),n=Object(r.c)(h.getFilteredContacts);return Object(A.jsx)(T.a,{component:"ul",className:B.a.ulSection,children:n.map((function(e){var n=e.id,a=e.name,r=e.number;return Object(A.jsx)(c.a,{timeout:250,classNames:I.a,children:Object(A.jsxs)("li",{className:B.a.liItem,children:[Object(A.jsxs)("p",{className:B.a.text,children:[a," : ",r]}),Object(A.jsx)("button",{className:B.a.deleteBtn,onClick:function(){t(n)},children:"Delete"})]},n)},n)}))})}var L=n(51),V=n(125),q=n.n(V);function H(){var e=Object(r.b)();Object(a.useEffect)((function(){e(j())}),[e]);var t=Object(a.useCallback)((function(){return e(u.a.changeFilter(""))}),[e]),n=Object(r.c)(h.getAllContacts),o=Object(r.c)(h.getLoading),i=Object(r.c)(h.getError);return Object(A.jsxs)("div",{className:q.a.container,children:[i&&Object(A.jsx)(E,{message:i.message}),Object(A.jsx)(c.a,{in:!0,appear:!0,timeout:500,classNames:q.a,unmountOnExit:!0,children:Object(A.jsx)("h1",{className:q.a.title,children:"Phonebook"})}),Object(A.jsx)(S,{}),Object(A.jsx)(c.a,{in:n.length>1,classNames:I.a,timeout:250,unmountOnExit:!0,onExiting:function(){return t()},children:Object(A.jsx)(F,{})}),Object(A.jsx)(c.a,{in:n.length>0,appear:!0,timeout:250,classNames:I.a,unmountOnExit:!0,children:Object(A.jsxs)("div",{className:q.a.contactsWrapper,children:[Object(A.jsx)("h2",{className:q.a.title,children:"Contacts"}),o&&Object(A.jsx)(L.a,{}),Object(A.jsx)(M,{})]})})]})}}}]);
//# sourceMappingURL=phone-book.c9f6473d.chunk.js.map